<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Calorie Needs Calculator</title>
  <link rel="stylesheet" href="calculator.css" />
  <link rel="stylesheet" href="../style.css" />
  <link rel="stylesheet" href="../chatbot/chatbot.css">
  <link rel="icon" type="image/png" href="../media/images/icon.png"> <!-- For modern browsers -->
  <link rel="shortcut icon" href="../media/images/favicon.ico"> <!-- For older browsers -->
</head>
<body>

      <!-- Navigation -->
  <nav class="navbar">
    <div class="nav-container">
        <a href="#" class="logo">Apotek<span> Hasanah</span></a>
        
        <!-- Hamburger Button -->
        <button class="hamburger" aria-label="Menu">
            <span class="hamburger-box">
                <span class="hamburger-inner"></span>
            </span>
        </button>
        
        <ul class="nav-links">
            <li><a href="../index.html">Beranda</a></li>
            <li><a href="../artikel/artikel.html">Artikel</a></li>
            <li><a href="screening.html">Screening</a></li>
            <li><a href="../layanan/layanan.html">Layanan</a></li>
            <li><a href="../contact/contact.html">Kontak</a></li>
        </ul>
    </div>
  </nav>

  <div class="container">
    <h1>Calorie Needs Calculator</h1>
    <form id="calorieForm">
      <div class="input-group">
        <label for="cal-gender">Gender:</label>
        <select id="cal-gender" required>
          <option value="">Select</option>
          <option value="male">Male</option>
          <option value="female">Female</option>
        </select>
      </div>
      <div class="input-group">
        <label for="cal-age">Age:</label>
        <input type="number" id="cal-age" required />
      </div>
      <div class="input-group">
        <label for="cal-height">Height (cm):</label>
        <input type="number" id="cal-height" required />
      </div>
      <div class="input-group">
        <label for="cal-weight">Weight (kg):</label>
        <input type="number" id="cal-weight" required />
      </div>
      <div class="input-group">
        <label for="cal-activity">Activity Level:</label>
        <select id="cal-activity" required>
          <option value="1.2">Sedentary</option>
          <option value="1.375">Lightly active</option>
          <option value="1.55">Moderately active</option>
          <option value="1.725">Very active</option>
          <option value="1.9">Extra active</option>
        </select>
      </div>
      <button type="submit">Calculate</button>
      <div class="result-box" id="calorieResult"></div>
    </form>
  </div>

  <!-- Chatbot Toggle Button -->
<div class="chatbot-toggle-container">
  <button id="chatbot-toggle" aria-label="Open chat">
    <img src="../media/images/chatbot.png" alt="Chatbot" />
  </button>
</div>

<!-- Chatbot Panel -->
<div id="chatbot-panel">
  <div id="chat-container">
    <div class="chat-header">
      <h2>AI Chatbot Assistant</h2>
      <button id="close-chat" aria-label="Close chat">
        <span class="close-icon"></span>
      </button>
    </div>
    <div id="messages"></div>
    <div id="typing-indicator" class="hidden">
      <div class="dot"></div>
      <div class="dot"></div>
      <div class="dot"></div>
    </div>
    <form id="chat-form">
      <input type="text" id="chat-input" placeholder="Ask something..." required />
      <button type="submit" id="send-btn">
        <span class="send-icon"></span>
      </button>
    </form>
  </div>
</div>

  <script src="../chatbot/chatbot.js"></script>
  <script src="../index.js"></script>
  <script>
    document.getElementById("calorieForm").addEventListener("submit", function (e) {
      e.preventDefault();
      const gender = document.getElementById("cal-gender").value;
      const age = parseInt(document.getElementById("cal-age").value);
      const height = parseFloat(document.getElementById("cal-height").value);
      const weight = parseFloat(document.getElementById("cal-weight").value);
      const activity = parseFloat(document.getElementById("cal-activity").value);
      let bmr = gender === "male"
        ? 10 * weight + 6.25 * height - 5 * age + 5
        : 10 * weight + 6.25 * height - 5 * age - 161;
      const calories = Math.round(bmr * activity);
      document.getElementById("calorieResult").innerHTML = `<strong>Estimated Daily Calories:</strong> ${calories} kcal`;
    });
  </script>

</body>
</html>
